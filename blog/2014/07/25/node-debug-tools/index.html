
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Node Debug Tools - Vishwa's Blogs</title>
  <meta name="author" content="Vbp">

  
  <meta name="description" content="It should come as no surprise that Node has emerged as the technology of choice for creating web Application in recent years. Recent trend show it. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vbp2610.github.io/blog/2014/07/25/node-debug-tools">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Vishwa's Blogs" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Vishwa's Blogs</a></h1>
  
    <h2>Blogging and experimentation is key to everything I do.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vbp2610.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Node Debug Tools</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-25T06:13:21+05:30" pubdate data-updated="true">Jul 25<sup>th</sup>, 2014</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://vbp2610.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p> It should come as no surprise that Node has emerged as the technology of choice for creating web Application in recent years. <a href="http://w3techs.com/technologies/details/ws-nodejs/all/all">Recent trend</a> show it. As I always passionate to analysis different emerging technologies, I stared Node few months back and impressed the power of node in certain circumstances.</p>

<p>I analysis multiple node debug tool like sublime text, Eclipse, Node-Inspector, Bracket and decided to use Node-Inspector. I started look into documentation on web for understanding of Architecture/Design but
Unfortunately it was missing from the Web…. As Developer Code is our destination for diving. Thanks God Node-Inspector, Chrome Web-Inspector, Remote debugging Protocol and V8 Debug Protocol are part of open community.</p>

<p>It’s huge code base and as usual little bit difficult to figure out the flow of code in event driven paradigm but I had my lovable “grep command” to do that. In starting it seems to me basic Messaging between client/Server but in actual it was more that that and pretty interesting so I decided to share my understanding in my own way to make it very simple.</p>

<p>Just listing out different technologies used to build complete product</p>

<ol>
<li>HTTP Client/Server</li>
<li>Web Socket Client/Server</li>
<li>TCP Client/Server</li>
<li><a href="https://www.webkit.org/blog/1875/announcing-remote-debugging-protocol-v1-0/">WebKit Remote Debugging Protocol[WRDP]</a></li>
<li><a href="https://code.google.com/p/v8/wiki/DebuggerProtocol">V8 Remote Debugging protocol[V8RDP]</a></li>
</ol>


<p>there is two main components WebKit Web-Inspector work as Client of WRDP and V8 Debugger work as Server for V8 since Client and Server know different protocols so no way to talk each other Directly. See Diagram1</p>

<p><img src="/assets/node-debug-tools/diagram1.png"></img></p>

<p>It pretty clear from above diagram we need one proxy who know both protocols and mapping of commands. For example “SetBreakPoint” both components can understand but with different parameter in JSON message. Who will changes the format of message ?  it’s Node-Inspector only who is playing the role of proxy in between both of them. See Diagram2
<img src="/assets/node-debug-tools/diagram2.png"></img></p>

<p>See in above diagram that Node debugger is running TCP server but Web Inspector is working as Web Socket Client.. Ouch! What it’s means and how it will impact?</p>

<p>Since Client is sending message on using WebSocket but node debugger is running TCP server, we have to run WebSocket Server and TCP client inside Proxy to pass the message with a Protocol Convertor show in the diagram3
<img src="/assets/node-debug-tools/diagram3.svg"></img></p>

<p>Now question came in mind what is the need of HTTP Client/Server? Browser is HTTP client who is fetching Web-Inspector From HTTP server running on node-Inspector Proxy Module.</p>

<p>Web Inspector form the request using WRDP and pass it to Websocket Server running on Proxy( node-inspector). WebSocket server running inside proxy and hand over the message to protocol convertor for reformat it. Protocol Convertor convert message into V8RDP and Pass it to TCP client. TCP Client send the message to V8 debugger working as TCP server. V8 execute the request and send the response to TCP Client. TCP client pass the message to Websocket client using protocol convertor and websocket Server.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Vbp</span></span>

      








  


<time datetime="2014-07-25T06:13:21+05:30" pubdate data-updated="true">Jul 25<sup>th</sup>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://vbp2610.github.io/blog/2014/07/25/node-debug-tools/" data-via="vbp2610" data-counturl="http://vbp2610.github.io/blog/2014/07/25/node-debug-tools/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/07/20/title/" title="Previous Post: Eval Scope Chain and Execution Context">&laquo; Eval Scope Chain and Execution Context</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/25/node-debug-tools/">Node Debug Tools</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/20/title/">Eval Scope Chain and Execution Context</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Vbp -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vbp2610';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://vbp2610.github.io/blog/2014/07/25/node-debug-tools/';
        var disqus_url = 'http://vbp2610.github.io/blog/2014/07/25/node-debug-tools/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
